/**
 * Global Styles
 * Angular Material tema yapılandırması ve global CSS değişkenleri
 */

// Angular Material Theming
@use '@angular/material' as mat;

// Light Theme
html {
  // Material theme configuration
  @include mat.theme((
    color: (
      theme-type: light,
      primary: mat.$violet-palette,
      tertiary: mat.$blue-palette,
    ),
    typography: Roboto,
    density: 0,
  ));

  // CSS Custom Properties - Light Theme
  --calc-bg: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
  --calc-card-bg: rgba(255, 255, 255, 0.98);
  --calc-border: rgba(0, 0, 0, 0.08);
  
  // Display
  --calc-display-bg: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  --calc-display-primary: #ffffff;
  --calc-display-secondary: rgba(255, 255, 255, 0.6);
  --calc-display-error: #ef5350;
  --calc-memory-indicator: #64b5f6;
  
  // Buttons
  --calc-number-bg: #f0f0f5;
  --calc-number-text: #1a1a1a;
  --calc-number-hover: #e5e5ea;
  
  --calc-operator-bg: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
  --calc-operator-text: #ffffff;
  --calc-operator-hover: #f57c00;
  --calc-operator-active: #e65100;
  
  --calc-function-bg: #e8f0fe;
  --calc-function-text: #1565c0;
  --calc-function-hover: #d4e4fc;
  
  --calc-special-bg: #fce4ec;
  --calc-special-text: #c62828;
  --calc-special-hover: #f8bbd9;
  
  --calc-equal-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --calc-equal-text: #ffffff;
  --calc-equal-hover: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
  
  // History Panel
  --calc-history-bg: #fafafa;
  --calc-history-hover: rgba(0, 0, 0, 0.04);
  
  // Text
  --calc-text-primary: #1a1a1a;
  --calc-text-secondary: #666666;
  --calc-text-tertiary: #999999;
  
  // Focus
  --calc-focus: #667eea;
}

// Dark Theme
.dark-theme {
  @include mat.theme((
    color: (
      theme-type: dark,
      primary: mat.$violet-palette,
      tertiary: mat.$cyan-palette,
    ),
    typography: Roboto,
    density: 0,
  ));

  // CSS Custom Properties - Dark Theme
  --calc-bg: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 100%);
  --calc-card-bg: rgba(25, 25, 40, 0.98);
  --calc-border: rgba(255, 255, 255, 0.08);
  
  // Display
  --calc-display-bg: linear-gradient(135deg, #0d0d15 0%, #12121f 100%);
  --calc-display-primary: #ffffff;
  --calc-display-secondary: rgba(255, 255, 255, 0.5);
  
  // Buttons
  --calc-number-bg: #2a2a3e;
  --calc-number-text: #e0e0e0;
  --calc-number-hover: #3a3a52;
  
  --calc-operator-bg: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
  --calc-operator-hover: #d35400;
  
  --calc-function-bg: #1e3a5f;
  --calc-function-text: #64b5f6;
  --calc-function-hover: #254a75;
  
  --calc-special-bg: #3d1a24;
  --calc-special-text: #ef9a9a;
  --calc-special-hover: #4d2430;
  
  // History Panel
  --calc-history-bg: #1e1e2e;
  --calc-history-hover: rgba(255, 255, 255, 0.05);
  
  // Text
  --calc-text-primary: #e0e0e0;
  --calc-text-secondary: #a0a0a0;
  --calc-text-tertiary: #707070;
}

// Global Resets
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Roboto', 'Segoe UI', 'Helvetica Neue', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: var(--calc-bg);
  transition: background 0.3s ease;
}

// Material Component Customizations
.mat-mdc-tab-group {
  .mat-mdc-tab-header {
    background: transparent;
    border-bottom: 1px solid var(--calc-border);
  }

  .mat-mdc-tab-labels {
    justify-content: center;
  }

  .mat-mdc-tab {
    min-width: 120px;
    
    &.mdc-tab--active {
      .mdc-tab__text-label {
        color: var(--calc-focus) !important;
      }
    }
  }
}

.mat-mdc-form-field {
  &.mat-form-field-appearance-outline {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: var(--calc-border) !important;
    }
  }
}

// Button Toggle Customization
.mat-button-toggle-group {
  border: none !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

  .mat-button-toggle {
    border: none !important;
    background: var(--calc-number-bg);
    color: var(--calc-text-secondary);

    &.mat-button-toggle-checked {
      background: var(--calc-focus);
      color: white;
    }
  }
}

// Scrollbar Styling
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(128, 128, 128, 0.3);
  border-radius: 4px;

  &:hover {
    background: rgba(128, 128, 128, 0.5);
  }
}

// Focus Styles for Accessibility
*:focus-visible {
  outline: 2px solid var(--calc-focus);
  outline-offset: 2px;
}

// Print Styles
@media print {
  .app-toolbar,
  .app-footer,
  .mat-mdc-tab-header {
    display: none !important;
  }
}
